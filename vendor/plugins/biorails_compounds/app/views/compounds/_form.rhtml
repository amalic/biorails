<script SRC="/javascripts/marvin/marvin.js"></script>
<%= error_messages_for 'compound' %>
<div class="splitcontentleft">
  <div class="box">
    <% if  browser_is? 'ie' %>
      <object id="MolEditor"
              codebase="MDL.Draw.Editor.dll#-1,-1,-1,-1"
              height="250"
              width="450"
              classid="CLSID:FCE57399-E34B-45ce-881B-5FDFF3583307">
        <PARAM NAME="BackColor" VALUE="LightBlue">
        <param name="ChimeString" value="<%=@query_chime%>">
      </object>
    <% else %>
      <%= @compound.image  %>
    <% end %>
    <input id='chime' name="chime" type="hidden"></input>
  </div>
</div>

<div class="splitcontentright">
  <div class="row">
    <div class="form-element">
      <label for="compound_name">Name</label>
      <%= text_field 'compound', 'name'  %>
    </div>
  </div>

  <div class="row">
    <div class="form-element">
      <label for="compound_registration_date">Registration Date</label>
      <%= date_field 'compound', 'registration_date'  %>
    </div>
  </div>

  <div class="row">
    <div class="form-element">
      <label>iupac</label>
      <%= text_field('compound','iupacname') %>
    </div>
  </div>

  <div class="row">
    <div class="form-element">
      <label for="compound_formula">Formula</label>
      <%= text_field 'compound', 'formula'  %>
    </div>
  </div>

  <div class="row">
    <div class="form-element">
      <label for="compound_mass">Mass</label>
      <%= text_field 'compound', 'mass'  %>
    </div>
  </div>
</div>

<script language="javascript">
  function GetStructure(){
    var molEditor = document.getElementById('MolEditor');
    var field = document.getElementById('chime');
    field.value = molEditor.ChimeString();
  }
</script>

<!--[eoform:compound]-->
